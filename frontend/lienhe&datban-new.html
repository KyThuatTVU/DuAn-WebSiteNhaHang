<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đặt Bàn & Liên Hệ - Nhà Hàng Ẩm Thực Phương Nam</title>
    
    <!-- External CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="css/main.css" rel="stylesheet">
    <link href="css/components.css" rel="stylesheet">
    <link href="css/animations.css" rel="stylesheet">
    
    <!-- External JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    
    <!-- Page specific styles -->
    <style>
        /* Reservation form styles */
        .reservation-form {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 1px solid #e2e8f0;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .contact-info-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid #f59e0b;
        }
        
        .contact-item {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .contact-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .map-container {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border: 1px solid #3b82f6;
        }
        
        .form-input {
            transition: all 0.3s ease;
            border: 2px solid #e5e7eb;
        }
        
        .form-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.1);
            transform: translateY(-1px);
        }
        
        .submit-btn {
            background: linear-gradient(45deg, #e53e3e, #dc2626);
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            background: linear-gradient(45deg, #dc2626, #b91c1c);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(229, 62, 62, 0.3);
        }
        
        .submit-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Success/Error states */
        .form-success {
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            animation: slideInDown 0.5s ease;
        }
        
        .form-error {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            animation: shake 0.5s ease;
        }
        
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Loading spinner */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #e53e3e;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Map responsive */
        .map-iframe {
            border-radius: 0.5rem;
            filter: grayscale(20%);
            transition: filter 0.3s ease;
        }
        
        .map-iframe:hover {
            filter: grayscale(0%);
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Header Placeholder -->
    <div id="header-placeholder"></div>

    <!-- Ad Banner Placeholder -->
    <div id="ad-banner-placeholder"></div>

    <!-- Main Content -->
    <main>
        <!-- Reservation Section Content -->
        <section class="py-12 bg-gray-100" id="reservationSection">
            <div class="container mx-auto px-4">
                <!-- Page Title -->
                <div class="text-center mb-12 fade-in" id="reservationTitle">
                    <h2 class="text-4xl font-bold mb-4">Đặt Bàn & Liên Hệ</h2>
                    <p class="text-gray-600 text-lg">Đặt bàn trước để có trải nghiệm tốt nhất tại Phương Nam</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12" id="reservationGrid">
                    <!-- Reservation Form -->
                    <div class="reservation-form p-8 rounded-xl slide-in-left">
                        <h3 class="text-2xl font-bold mb-6 text-center">
                            <i class="fas fa-calendar-alt text-primary mr-2"></i>
                            Đặt Bàn Online
                        </h3>
                        
                        <!-- Success/Error Messages -->
                        <div id="formMessages"></div>
                        
                        <form id="reservationForm" class="space-y-6">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="name" class="block text-gray-700 mb-2 font-semibold">
                                        <i class="fas fa-user mr-1"></i>Họ và tên *
                                    </label>
                                    <input type="text" id="name" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none" placeholder="Nguyễn Văn A" required>
                                </div>
                                <div>
                                    <label for="phone" class="block text-gray-700 mb-2 font-semibold">
                                        <i class="fas fa-phone mr-1"></i>Số điện thoại *
                                    </label>
                                    <input type="tel" id="phone" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none" placeholder="0901234567" required>
                                </div>
                            </div>
                            
                            <div>
                                <label for="email" class="block text-gray-700 mb-2 font-semibold">
                                    <i class="fas fa-envelope mr-1"></i>Email
                                </label>
                                <input type="email" id="email" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none" placeholder="example@email.com">
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label for="date" class="block text-gray-700 mb-2 font-semibold">
                                        <i class="fas fa-calendar mr-1"></i>Ngày *
                                    </label>
                                    <input type="date" id="date" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none" required>
                                </div>
                                <div>
                                    <label for="time" class="block text-gray-700 mb-2 font-semibold">
                                        <i class="fas fa-clock mr-1"></i>Giờ *
                                    </label>
                                    <input type="time" id="time" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none" required>
                                </div>
                                <div>
                                    <label for="guests" class="block text-gray-700 mb-2 font-semibold">
                                        <i class="fas fa-users mr-1"></i>Số khách *
                                    </label>
                                    <input type="number" id="guests" min="1" max="20" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none" placeholder="2" required>
                                </div>
                            </div>
                            
                            <div>
                                <label for="notes" class="block text-gray-700 mb-2 font-semibold">
                                    <i class="fas fa-sticky-note mr-1"></i>Ghi chú đặc biệt
                                </label>
                                <textarea id="notes" rows="4" class="form-input w-full px-4 py-3 rounded-lg focus:outline-none resize-none" placeholder="Yêu cầu đặc biệt, dị ứng thực phẩm, kỷ niệm đặc biệt..."></textarea>
                            </div>
                            
                            <button type="submit" id="submitBtn" class="submit-btn w-full text-white font-bold py-4 px-6 rounded-lg transition duration-300">
                                <span id="submitText">
                                    <i class="fas fa-utensils mr-2"></i>Đặt Bàn Ngay
                                </span>
                                <span id="submitLoading" class="hidden">
                                    <span class="loading-spinner mr-2"></span>Đang xử lý...
                                </span>
                            </button>
                        </form>
                        
                        <div class="mt-6 text-center text-sm text-gray-600">
                            <p><i class="fas fa-info-circle mr-1"></i>Chúng tôi sẽ xác nhận đặt bàn trong vòng 15 phút</p>
                        </div>
                    </div>

                    <!-- Contact Information & Map -->
                    <div class="space-y-8 slide-in-right">
                        <!-- Contact Information -->
                        <div class="contact-info-card p-8 rounded-xl">
                            <h3 class="text-2xl font-bold mb-6 text-gray-800 text-center">
                                <i class="fas fa-address-book text-primary mr-2"></i>
                                Thông Tin Liên Hệ
                            </h3>
                            <div class="space-y-4">
                                <div class="contact-item p-4 rounded-lg shadow-sm">
                                    <div class="flex items-start">
                                        <div class="text-primary text-2xl mr-4 pt-1">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1 text-lg">Địa Chỉ</h4>
                                            <p class="text-gray-600">123 Nguyễn Văn Linh, Quận 7, TP. Hồ Chí Minh</p>
                                            <p class="text-sm text-gray-500 mt-1">Gần chợ Tân Mỹ, dễ dàng tìm thấy</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="contact-item p-4 rounded-lg shadow-sm">
                                    <div class="flex items-start">
                                        <div class="text-primary text-2xl mr-4 pt-1">
                                            <i class="fas fa-phone-alt"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1 text-lg">Điện Thoại</h4>
                                            <p class="text-gray-600">
                                                <a href="tel:02812345678" class="hover:text-primary transition">028 1234 5678</a>
                                            </p>
                                            <p class="text-gray-600">
                                                <a href="tel:0901234567" class="hover:text-primary transition">0901 234 567</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="contact-item p-4 rounded-lg shadow-sm">
                                    <div class="flex items-start">
                                        <div class="text-primary text-2xl mr-4 pt-1">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1 text-lg">Email</h4>
                                            <p class="text-gray-600">
                                                <a href="mailto:contact@phuongnam.com" class="text-primary hover:underline transition">contact@phuongnam.com</a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="contact-item p-4 rounded-lg shadow-sm">
                                    <div class="flex items-start">
                                        <div class="text-primary text-2xl mr-4 pt-1">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold mb-1 text-lg">Giờ Mở Cửa</h4>
                                            <p class="text-gray-600">Thứ 2 - Chủ Nhật: 10:00 - 22:00</p>
                                            <p class="text-sm text-gray-500 mt-1">Giờ cao điểm: 11:30 - 13:30 và 18:00 - 20:00</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Map -->
                        <div class="map-container p-8 rounded-xl">
                            <h3 class="text-2xl font-bold mb-6 text-gray-800 text-center">
                                <i class="fas fa-map text-primary mr-2"></i>
                                Bản Đồ Chỉ Đường
                            </h3>
                            <div class="bg-white p-2 rounded-lg shadow-inner">
                                <iframe 
                                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d11115.241814310404!2d106.3268878341257!3d9.947979526241362!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31a011ccd79fbd87%3A0xa9b4b8044a27d02e!2z4bqobSBUaOG7sWMgQUxPIER6byAxMDAgVHLDoCBWaW5o!5e0!3m2!1svi!2s!4v1745374083777!5m2!1svi!2s" 
                                    width="100%" 
                                    height="350" 
                                    style="border:0;" 
                                    class="map-iframe"
                                    allowfullscreen="" 
                                    loading="lazy">
                                </iframe>
                            </div>
                            <div class="mt-4 text-center">
                                <a href="https://maps.google.com/?q=123+Nguyễn+Văn+Linh,+Quận+7,+TP.+Hồ+Chí+Minh" 
                                   target="_blank" 
                                   class="inline-flex items-center text-primary hover:text-red-700 transition font-semibold">
                                    <i class="fas fa-external-link-alt mr-2"></i>
                                    Mở trong Google Maps
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer Placeholder -->
    <div id="footer-placeholder"></div>

    <!-- Chatbot Placeholder -->
    <div id="chatbot-placeholder"></div>

    <!-- Login Modal Placeholder -->
    <div id="login-modal-placeholder"></div>

    <!-- JavaScript -->
    <script src="js/auth.js"></script>
    <script src="js/components.js"></script>
    <script src="js/main.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/reservation.js"></script>
    
    <!-- Initialize reservation -->
    <script>
        // Initialize reservation when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Lienhe&datban-new.html loaded successfully!');
            
            // Set minimum date to today
            const dateInput = document.getElementById('date');
            if (dateInput) {
                const today = new Date().toISOString().split('T')[0];
                dateInput.min = today;
                dateInput.value = today;
            }
            
            // Set default time
            const timeInput = document.getElementById('time');
            if (timeInput) {
                timeInput.value = '19:00';
            }
            
            // Initialize reservation manager after components are loaded
            setTimeout(() => {
                if (window.ReservationManager) {
                    window.reservationManager = new ReservationManager();
                }
            }, 500);
        });
    </script>
</body>
</html>
